<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SRMVEC - CSE Department | About</title>
    <meta name="description"
        content="Vision, Mission, Programme Educational Objectives, Programme Outcomes and Programme Specific Outcomes of the CSE Department." />
    <link rel="icon" href="image.png" />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Set theme BEFORE CSS loads (system preference or saved choice) -->
    <script>
        (function () {
            try {
                const saved = localStorage.getItem('theme');
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                const theme = saved || (prefersDark ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', theme);
            } catch (e) {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>

    <link href="styles.css" rel="stylesheet">

    <style>
        /* ---- EXTRA STYLES FOR PLACEMENTS ---- */

        .place-container {
            max-width: 1200px;
            margin: 120px auto 40px;
            padding: 0 20px 40px;
        }

        .place-header {
            margin-bottom: 18px;
        }

        .place-header h2 {
            margin: 0 0 6px;
            font-size: 24px;
            color: var(--primary);
        }

        .filter-bar {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .filter-bar select {
            padding: 10px 14px;
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            background: var(--card-bg);
            color: var(--text);
            font-size: 14px;
            cursor: pointer;
            transition: border-color 0.2s ease;
        }

        .filter-bar select:hover {
            border-color: rgba(125, 42, 232, 0.4);
        }

        .placement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .place-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 18px;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-soft);
            transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
        }

        .place-card:hover {
            transform: translateY(-4px);
            border-color: rgba(125, 42, 232, 0.4);
            box-shadow: 0 16px 40px rgba(15, 23, 42, 0.15);
        }

        .place-card h3 {
            margin: 0 0 8px;
            color: var(--primary);
            font-size: 18px;
        }

        .place-card p {
            margin: 4px 0;
            color: var(--text);
            font-size: 14px;
        }

        .place-card a {
            color: var(--primary);
            text-decoration: none;
        }

        .place-card a:hover {
            text-decoration: underline;
        }

        .pagination {
            margin-top: 26px;
            display: flex;
            justify-content: center;
            gap: 14px;
        }

        .pagination button {
            padding: 10px 18px;
            border-radius: 999px;
            border: none;
            background: var(--primary);
            color: #fff;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 10px 20px rgba(125, 42, 232, 0.35);
            transition: 0.2s ease;
        }

        .pagination button:hover:not(:disabled) {
            background: #6922dd;
            transform: translateY(-1px);
        }

        .pagination button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        @media (max-width: 600px) {
            .place-container {
                margin-top: 100px;
            }
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="index.html" class="brand">
                <img src="image.png" alt="CSE logo">
                <div>
                    <h1>CSE Department</h1>
                    <div class="brand-sub">SRM Valliammai Engineering College</div>
                </div>
            </a>

            <!-- Desktop menu -->
            <div class="menu">
                <a href="index.html">Home</a>
                <a href="index.html#about">About us</a>
                <a href="index.html#faculty">Faculty</a>
                <a href="index.html#coderizz">Coderizz</a>
                <a href="index.html#achievements">Events</a>
                <a href="index.html#placements">Placements</a>
                <a href="index.html#alumni">Alumni</a>
                <a href="index.html#blog">Blog</a>
                <a href="index.html#contact">Contact</a>
                <a href="cgpa.html">GPA-Calculator</a>
            </div>

            <!-- Hamburger -->
            <button class="hamb" id="hamb" aria-label="Toggle navigation" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <!-- Mobile full-screen menu -->
        <div class="mobile-menu" id="mobileMenu">
            <a href="index.html">Home</a>
            <a href="index.html#about">About us</a>
            <a href="index.html#faculty">Faculty</a>
            <a href="index.html#coderizz">Coderizz</a>
            <a href="index.html#labs">Labs</a>
            <a href="index.html#achievements">Events</a>
            <a href="index.html#placements">Placements</a>
            <a href="index.html#alumni">Alumni</a>
            <a href="index.html#blog">Blog</a>
            <a href="index.html#contact">Contact</a>
            <a href="cgpa.html">GPA-Calculator</a>
        </div>
    </nav>

    <main class="place-container">
        <div class="place-header">
            <h2>Placement Records</h2>
            <p class="muted">Top placements of our department students.</p>
        </div>

        <!-- FILTERS -->
        <div class="filter-bar">
            <select id="companyFilter">
                <option value="">Filter by Company</option>
            </select>

            <select id="batchFilter">
                <option value="">Filter by Batch</option>
            </select>
        </div>

        <!-- GRID -->
        <div class="placement-grid" id="placementGrid"></div>

        <!-- PAGINATION -->
        <div class="pagination">
            <button id="prevBtn">Previous</button>
            <button id="nextBtn">Next</button>
        </div>
    </main>

    <!-- FLOATING CONTROLS -->
    <div class="floating-controls">
        <button id="themeToggle" class="fab">üåô</button>
        <button id="backToTop" class="fab">‚Üë</button>
    </div>

    <script>
        /* ========== MOBILE MENU ========== */
        const hamb = document.getElementById("hamb");
        const mobileMenu = document.getElementById("mobileMenu");

        hamb.addEventListener("click", () => {
            const open = mobileMenu.classList.toggle("open");
            hamb.classList.toggle("open", open);
            hamb.setAttribute("aria-expanded", open ? "true" : "false");
        });

        mobileMenu.querySelectorAll("a").forEach(a =>
            a.addEventListener("click", () => {
                mobileMenu.classList.remove("open");
                hamb.classList.remove("open");
            })
        );

        /* ========== THEME TOGGLE ========== */
        const themeToggle = document.getElementById("themeToggle");
        const root = document.documentElement;

        function updateThemeIcon() {
            const t = root.getAttribute("data-theme");
            themeToggle.textContent = t === "dark" ? "‚òÄÔ∏è" : "üåô";
        }

        themeToggle.addEventListener("click", () => {
            const cur = root.getAttribute("data-theme");
            const next = cur === "light" ? "dark" : "light";
            root.setAttribute("data-theme", next);
            localStorage.setItem("theme", next);
            updateThemeIcon();
        });

        updateThemeIcon();

        /* ========== BACK TO TOP ========== */
        const backToTop = document.getElementById("backToTop");
        window.addEventListener("scroll", () => {
            if (window.scrollY > 250) backToTop.classList.add("visible");
            else backToTop.classList.remove("visible");
        });

        backToTop.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

        /* ========== LOAD PLACEMENT DATA ========== */

        let placementData = [];
        let filteredData = [];
        let itemsPerPage = 10;
        let currentPage = 1;

        const companyFilter = document.getElementById("companyFilter");
        const batchFilter = document.getElementById("batchFilter");
        const grid = document.getElementById("placementGrid");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        fetch("placement.json")
            .then(r => r.json())
            .then(data => {
                placementData = data;
                filteredData = data;

                loadFilters(data);
                renderPage();
            });

        function loadFilters(data) {
            [...new Set(data.map(d => d.company))].forEach(c =>
                companyFilter.innerHTML += `<option value="${c}">${c}</option>`
            );

            [...new Set(data.map(d => d.batch))].forEach(b =>
                batchFilter.innerHTML += `<option value="${b}">${b}</option>`
            );
        }

        function applyFilters() {
            const c = companyFilter.value;
            const b = batchFilter.value;

            filteredData = placementData.filter(p =>
                (c === "" || p.company === c) &&
                (b === "" || p.batch == b)
            );

            currentPage = 1;
            renderPage();
        }

        companyFilter.addEventListener("change", applyFilters);
        batchFilter.addEventListener("change", applyFilters);

        function renderPage() {
            grid.innerHTML = "";

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;

            const pageItems = filteredData.slice(start, end);

            if (pageItems.length === 0) {
                grid.innerHTML = "<p>No results found.</p>";
                return;
            }

            pageItems.forEach(p => {
                const card = document.createElement("div");
                card.className = "place-card reveal";
                card.innerHTML = `
                    <h3>${p.name}</h3>
                    <p>üè¢ ${p.company}</p>
                    <p>üí∞ Package: ${p.package} LPA</p>
                    <p>üìû <a href="tel:${p.phone}">${p.phone}</a></p>
                    <p>üéì Batch: ${p.batch}</p>
                `;
                grid.appendChild(card);
            });

            revealInit();

            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = end >= filteredData.length;
        }

        prevBtn.onclick = () => { currentPage--; renderPage(); };
        nextBtn.onclick = () => { currentPage++; renderPage(); };

        /* ========== REVEAL ANIMATION ========== */
        function revealInit() {
            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        e.target.classList.add("revealed");
                        obs.unobserve(e.target);
                    }
                });
            }, { threshold: 0.15 });

            document.querySelectorAll(".reveal").forEach(el => obs.observe(el));
        }
    </script>

</body>

</html>
